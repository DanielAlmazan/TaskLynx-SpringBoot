# File for testing the API 

# Variables
### SSL @port = 8443
### SSL @host = https://localhost:{{port}}/api
@port = 8080
@host = http://localhost:{{port}}/api
@idTrabajador2 = T002
@idTrabajador21 = T0021
@id = J001

###

  # Get /trabajos

GET {{host}}/trabajos

###

# Get  /trabajos/sinTrabajador

GET {{host}}/trabajos/sinTrabajador

###

# Get /trabajadores/{id}/trabajos/pendientes/prioridad

GET {{host}}/trabajadores/{{idTrabajador2}}/trabajos/pendientes/prioridad

###

# Get /trabajadores/{id}

GET {{host}}/trabajadores/{{idTrabajador2}}

###

# Get /trabajadores/especialidad/{especialidad}
GET {{host}}/trabajadores/especialidad/electricidad

###

  # Get /trabajos/completados

GET {{host}}/trabajos/completados

###

  # Get /trabajos/pendientes

GET {{host}}/trabajos/pendientes

###

  # Get /trabajos/{id}

GET {{host}}/trabajos/{{id}}

###

# Get /trabajos/{id}/trabajador

GET {{host}}/trabajos/{{id}}/trabajador

###

  # Post /trabajos   –   Not da error al insertar ID existente
  # -- FALLA --
POST {{host}}/trabajos
Content-Type: application/json

{
  "codTrabajo": "J0014",
  "categoria": "Fontanería",
  "descripcion": "Reparación de tuberías",
  "fecIni": "2024-01-01",
  "tiempo": null,
  "idTrabajador": null,
  "prioridad": 4
}

###

  # Put /trabajos/{id}
  # -- FALLA --
PUT {{host}}/trabajos/{{id}}
Content-Type: application/json

{
  "codTrabajo": "J001",
  "categoria": "Carpintería",
  "descripcion": "Reparación de tuberías",
  "fecIni": "2024-01-03",
  "tiempo": null,
  "prioridad": 2
}

###

  # Put /trabajadores/{id}
  # -- FALLA --
PUT {{host}}/trabajadores/T001
Content-Type: application/json

{
  "idTrabajador": "T001",
  "dni": "12345678A",
  "nombre": "Pepe",
  "apellidos": "Gomez",
  "especialidad": "Fontanería",
  "contraseña": "123",
  "email": "wefwefesadf.com"
}

###

# Put /trabajos/asignar/{codTrabajo}/{idTrabajador}

PUT {{host}}/trabajos/asignar/{{id}}/{{idTrabajador2}}

###

  # Put /trabajos/finalizar/{id}

PUT {{host}}/trabajos/finalizar/{{id}}?fec_fin=2024-01-04&tiempo=2

###

# Put /trabajos/editarFechaFin/{id}

PUT {{host}}/trabajos/editarFechaFin/{{id}}?fec_fin=2024-01-05

###

# Put /trabajos/editarTiempo/{id}

PUT {{host}}/trabajos/editarTiempo/{{id}}?tiempo=3

###

# Delete /trabajos/{id}/eliminar

DELETE {{host}}/trabajos/J01/eliminar

###

# Delete /trabajadores/{id}/eliminar

DELETE {{host}}/trabajadores/123/eliminar

###

# Get /trabajadores

GET {{host}}/trabajadores

###

# Post /trabajadores
  # -- FALLA --
POST {{host}}/trabajadores
Content-Type: application/json

{
  "idTrabajador": "T001",
  "dni": "12345678A",
  "nombre": "Pepe",
  "apellidos": "García",
  "especialidad": "Fontanería",
  "contraseña": "123",
  "email": "wefwefewf@ergerg.com"
}

###

# List every task of a worker

GET {{host}}/trabajadores/{{idTrabajador2}}/trabajos

###

# Get /trabajadores/{id}/trabajos/pendientes/{prioridad}

GET {{host}}/trabajadores/{{idTrabajador2}}/trabajos/pendientes/2

###

# Get /trabajadores/{id}/trabajos/completados?fechaIni={fechaIni}&fechaFin={fechaFin}

GET {{host}}/trabajadores/{{idTrabajador2}}/trabajos/completados?fechaIni=2024-01-01&fechaFin=2024-03-02

###

# List every completed task of a worker

GET {{host}}/trabajadores/{{idTrabajador2}}/trabajos/completados

###

# List every pending task of a worker

GET {{host}}/trabajadores/{{idTrabajador2}}/trabajos/pendientes



###
