<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title th:text="${titulo}"></title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/formStyle.css}">
</head>
<body>
    <h1 th:text="${titulo}"></h1>

    <form th:action="@{/trabajadores/processForm}" th:object="${trabajador}" method="post">
        <input type="hidden" name="_method" th:value="${editar ? 'PUT' : 'POST'}" />

        <div class="errorblock" th:if="${#fields.hasErrors('*')}">
            <h2 th:text="${error}"></h2>
            <ul>
                <li th:each="err: ${#fields.errors('*')}" th:text="${err}"></li>
            </ul>
        </div>

        <div class="errorblock" th:if="${isError}">
            <h2 th:text="${error}"></h2>
            <p th:if="${mensajeError}" th:text="${mensajeError}"></p>
            <p th:if="${mensajeError2}" th:text="${mensajeError2}"></p>
            <p th:if="${mensajeError3}" th:text="${mensajeError3}"></p>
        </div>

        <fieldset>
            <legend>Datos del trabajador</legend>

            <label for="idTrabajador" th:text="${id}"></label>
            <input id="idTrabajador" type="text" th:field="*{idTrabajador}" maxlength="5" th:readonly="${editar}">

            <label for="dni" th:text="${dni}"></label>
            <input id="dni" type="text" th:field="*{dni}" maxlength="9">

            <label for="nombre" th:text="${nombre}"></label>
            <input id="nombre" type="text" th:field="*{nombre}" maxlength="100">

            <label for="apellidos" th:text="${apellidos}"></label>
            <input id="apellidos" type="text" th:field="*{apellidos}" maxlength="100">

            <label for="especialidad" th:text="${especialidad}"></label>
            <input id="especialidad" type="text" th:field="*{especialidad}" maxlength="50">

            <label for="password" th:text="${contraseña}"></label>
            <input id="password" type="password" th:field="*{contraseña}" maxlength="50">

            <label for="email" th:text="${email}"></label>
            <input id="email" type="email" th:field="*{email}" maxlength="150">

            <button type="submit" th:text="${editar} ? 'Editar' : 'Añadir'"></button>

        </fieldset>
    </form>

    <p><a th:href="@{/trabajadores}" class="enlace">Volver</a></p>

</body>
</html>